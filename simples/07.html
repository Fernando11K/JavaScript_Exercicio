<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 07</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>


<body class="bg-black bg-opacity-10">
    <section class="container">
        <p>7) A equipe Benneton-Ford deseja calcular o número mínimo de litros que deverá colocar no tanque de seu carro
            para que
            ele possa percorrer um determinado número de voltas até o primeiro reabastecimento. Escreva um programa que
            leia o
            comprimento da pista (em metros), o número total de voltas a serem percorridas no grande prêmio, o número de
            abastecimentos desejados e o consumo de combustível do carro (em Km/L). Calcular e escrever o número mínimo
            de litros
            necessários para percorrer até o primeiro reabastecimento. OBS: Considere que o número de voltas entre os
            abastecimentos
            é o mesmo.
        </p>
        <form>

            <div class="form-groups">
                <label for="comprimento">Comprimento da pista(metros): </label>
                <input class="form-control" type="number" name="comprimento" id="comprimento" value="0">
            </div>

            <div class="form-groups">
                <label for="numero_volta">Número de voltas: </label>
                <input class="form-control" type="number" name="numero_volta" id="numero_volta" value="0">
            </div>

            <div class="form-groups">
                <label for="abastecimento">Número de abastecimentos: </label>
                <input class="form-control" type="number" name="abastecimento" id="abastecimento" value="0">
            </div>

            <div class="form-groups">
                <label for="consumo">Consumo de combustível do carro (Km/L): </label>
                <input class="form-control" type="number" name="consumo" id="consumo" value="0">
            </div>

            <div class="form-groups">
                <button type="button" onclick="controllerCalculoAbastecimento()"
                    class="btn btn-outline-primary">Calcular</button>
                <button type="reset" class="btn btn btn-outline-primary">Limpar</button>
            </div>
        </form>

        <span id="retornoTexto"></span>

    </section>


</body>

<script>
    function controllerCalculoAbastecimento() {
        let comprimento = parseFloat(document.getElementById("comprimento").value);
        let numeroVolta = parseInt(document.getElementById("numero_volta").value);
        let abastecimento = parseInt(document.getElementById("abastecimento").value);
        let consumo = parseFloat(document.getElementById("consumo").value);

        if (validaDados(comprimento, numeroVolta, abastecimento, consumo)) {
            let respostaCalculo = calculoAbastecimento(comprimento, numeroVolta, abastecimento, consumo);
            outputData("Quantidade de litros mínima: " + respostaCalculo.toFixed(2));

        }

    }

    function calculoAbastecimento(comprimento = 0, numeroVolta = 0, abastecimento = 0, consumo = 0) {

        let totalComprimentoKm = (comprimento / 1000) * numeroVolta;
        let totalLitros = totalComprimentoKm / consumo; //Consumo Km/l
        let quantidadeLitros = totalLitros / (abastecimento + 1);
        return quantidadeLitros;

    }

    function outputData(textoSaida) {
        document.getElementById("retornoTexto").innerHTML = textoSaida;
    }

    function validaDados(comprimento, numeroVolta, abastecimento, consumo) {

        var error = "";

        if (comprimento <= 0) error += "Erro no valor do comprimento!\n";
        if (numeroVolta <= 0) error += "Erro no valor das voltas!\n";
        if (abastecimento <= 0) error += "Erro no valor do abastecimento!\n";
        if (consumo <= 0) error += "Erro no valor do consumo!\n";
        if (error == "") return true;

        alert("Erros: \n" + error);
        return false;




    }

</script>


</html>